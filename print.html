<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>React-Node.js</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="day02/index.html"><strong aria-hidden="true">1.</strong> Day01</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="day02/about-nodejs.html"><strong aria-hidden="true">1.1.</strong> Node.js ã¨ã¯</a></li><li class="chapter-item expanded "><a href="day02/prepare-api.html"><strong aria-hidden="true">1.2.</strong> API å®Ÿè£…ã®æº–å‚™</a></li><li class="chapter-item expanded "><a href="day02/install-express.html"><strong aria-hidden="true">1.3.</strong> Express ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></li><li class="chapter-item expanded "><a href="day02/omikuji-api01.html"><strong aria-hidden="true">1.4.</strong> API å®Ÿè£… 1ï¼ˆãŠã¿ãã˜åˆç´šç·¨ï¼‰</a></li><li class="chapter-item expanded "><a href="day02/add-command.html"><strong aria-hidden="true">1.5.</strong> ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ </a></li><li class="chapter-item expanded "><a href="day02/omikuji-api02.html"><strong aria-hidden="true">1.6.</strong> API å®Ÿè£… 2ï¼ˆãŠã¿ãã˜ä¸­ç´šç·¨ï¼‰</a></li><li class="chapter-item expanded "><a href="day02/janken-api.html"><strong aria-hidden="true">1.7.</strong> API å®Ÿè£… 3ï¼ˆã˜ã‚ƒã‚“ã‘ã‚“ï¼‰</a></li><li class="chapter-item expanded "><a href="day02/summary.html"><strong aria-hidden="true">1.8.</strong> ã¾ã¨ã‚</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">React-Node.js</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                        

                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="day01"><a class="header" href="#day01">Day01</a></h1>
<h2 id="ä»Šå›ã®ã‚´ãƒ¼ãƒ«"><a class="header" href="#ä»Šå›ã®ã‚´ãƒ¼ãƒ«">ä»Šå›ã®ã‚´ãƒ¼ãƒ«</a></h2>
<ul>
<li>
<p>Node.js ã¨ Express ã§ç°¡å˜ãª API ã‚’ä½“é¨“ã™ã‚‹ï¼</p>
</li>
<li>
<p>å®Ÿè£…ã®ã—ã‹ãŸã‚’è¤‡æ•°å­¦ã³ï¼Œè¦‹é€šã—ã®è‰¯ã„ã‚³ãƒ¼ãƒ‰ã®æ§‹é€ ã‚’æŠŠæ¡ã™ã‚‹ï¼</p>
</li>
<li>
<p>ã‚µãƒ¼ãƒã§å‹•ä½œã™ã‚‹ã€ŒãŠã¿ãã˜ã€ã¨ã€Œã˜ã‚ƒã‚“ã‘ã‚“ã€ã‚’å®Ÿè£…ã™ã‚‹ï¼</p>
</li>
</ul>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="nodejs-ã¨ã¯"><a class="header" href="#nodejs-ã¨ã¯">Node.js ã¨ã¯</a></h1>
<p>ã‚µãƒ¼ãƒã§ JavaScript ã‚’å‹•ã‹ã™ç’°å¢ƒã®ã“ã¨ï¼
ã€ŒNode.jsã€ã¨ã„ã†è¨€èªãŒã‚ã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§èªè­˜é•ã„ã«æ³¨æ„ï¼</p>
<h2 id="web-ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»•çµ„ã¿api-ã‚’å®Ÿè£…ã™ã‚‹å ´åˆ"><a class="header" href="#web-ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»•çµ„ã¿api-ã‚’å®Ÿè£…ã™ã‚‹å ´åˆ">Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä»•çµ„ã¿ï¼ˆAPI ã‚’å®Ÿè£…ã™ã‚‹å ´åˆï¼‰</a></h2>
<p>åŸºæœ¬ã¯ã€Œãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ã¨ã€Œãƒ¬ã‚¹ãƒãƒ³ã‚¹ã€ï¼PHP ãªã©ä»–ã®è¨€èªã¨åŒã˜ï¼</p>
<p>ã‚µãƒ¼ãƒå´ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ URIï¼ˆUniform Resource Identifier ã®ç•¥ï¼URL ã¨ã»ã¼åŒç¾©ï¼‰ã‚’ç”¨æ„ã—ã¦ãŠãï¼Œãã“ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ãªã©ï¼‰ã‹ã‚‰ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ï¼</p>
<p>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘ã‚‹ã¨è¨˜è¿°ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œï¼Œãƒ‡ãƒ¼ã‚¿ãªã©ãŒè¿”ã•ã‚Œã‚‹ï¼ˆJSON å½¢å¼ãŒå¤šã„ï¼‰ï¼</p>
<h2 id="express"><a class="header" href="#express">Express</a></h2>
<p>Express ã¯ Node.js ã‚’ç”¨ã„ã¦ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ï¼</p>
<p>Node.js ã¯è‡ªç”±åº¦ãŒéå¸¸ã«é«˜ãï¼Œãã®ã¾ã¾æ›¸ãã¨äººã«ã‚ˆã£ã¦åƒå·®ä¸‡åˆ¥ã¨ãªã‚‹ï¼ã—ãŸãŒã£ã¦ï¼ŒWeb é–‹ç™ºã‚’ã™ã‚‹ã¨ãã¯ Express ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒãƒ‡ãƒ•ã‚¡ã‚¯ãƒˆã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã¨ãªã£ã¦ã„ã‚‹çŠ¶æ…‹ã§ã‚ã‚‹ï¼ˆä»–ã«ã‚‚ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯å­˜åœ¨ã™ã‚‹ãŒï¼ŒExpress ã‚’åŸºã«ã—ãŸã‚‚ã®ãŒå¤šã„ï¼‰ï¼</p>
<p>Express ã¯æ§‹é€ ãŒç°¡æ˜“ã§ã‚ã‚Šï¼ŒAPI ã®å®Ÿè£…ã‚‚éå¸¸ã«ç°¡å˜ã§ã‚ã‚‹ï¼ä»Šå›ã¯ Express ã‚’ä½¿ã£ã¦ã„ãã¤ã‹ã® API ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹ï¼</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="api-å®Ÿè£…ã®æº–å‚™"><a class="header" href="#api-å®Ÿè£…ã®æº–å‚™">API å®Ÿè£…ã®æº–å‚™</a></h1>
<p>Node.js ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å®Ÿè£…ã—ï¼Œå‹•ã‹ã—ã¦ã¿ã‚‹ï¼</p>
<h2 id="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ"><a class="header" href="#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</a></h2>
<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã«ã¯ï¼Œä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ï¼</p>
<pre><code class="language-bash">$ mkdir express-project &amp;&amp; cd express-project
$ npm init
</code></pre>
<p><code>npm</code>ã¯<code>node package module</code>ã®ç•¥ã§ã‚ã‚Šï¼ŒNode.js ä¸Šã§å‹•ããƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ç®¡ç†ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ï¼Node.js ã§é–‹ç™ºã‚’è¡Œã†å ´åˆã¯ã“ã‚Œã‚’ç”¨ã„ã‚‹ã“ã¨ãŒã»ã¨ã‚“ã©ã§ã‚ã‚‹ï¼</p>
<p>ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºã¦ãã‚‹ã®ã§ï¼Œç­”ãˆã¦ã„ãï¼å…¨éƒ¨ãã®ã¾ã¾ Enter ã§ OKï¼</p>
<pre><code class="language-bash">This utility will walk you through creating a package.json file.
It only covers the most common items, and tries to guess sensible defaults.

See `npm help init` for definitive documentation on these fields
and exactly what they do.

Use `npm install &lt;pkg&gt;` afterwards to install a package and
save it as a dependency in the package.json file.

Press ^C at any time to quit.
package name: (express-project)
version: (1.0.0)
description:
entry point: (index.js)
test command:
git repository:
keywords:
author:
license: (ISC)
About to write to /home/taroosg/Desktop/express-project/package.json:

{
  &quot;name&quot;: &quot;express-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}


Is this OK? (yes)

</code></pre>
<p>å®Œäº†ã—ãŸã‚‰ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãï¼</p>
<p>ã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ã„ãŸã‚‰<code>package.json</code>ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹ã®ã§ï¼Œä¸­èº«ã‚’ç¢ºèªã™ã‚‹ï¼</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;express-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}

</code></pre>
<table><thead><tr><th>é …ç›®</th><th>æ„å‘³åˆã„</th></tr></thead><tbody>
<tr><td>name</td><td>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆåï¼</td></tr>
<tr><td>version</td><td>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼</td></tr>
<tr><td>description</td><td>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã®èª¬æ˜ï¼</td></tr>
<tr><td>main</td><td>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦å…¬é–‹ã™ã‚‹å ´åˆã«å…¥ã‚Šå£ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ï¼</td></tr>
<tr><td>script</td><td>é–‹ç™ºè€…ãŒä»»æ„ã«ä½œæˆã™ã‚‹ã‚³ãƒãƒ³ãƒ‰ï¼</td></tr>
<tr><td>auther</td><td>é–‹ç™ºè€…æƒ…å ±ï¼1 äººã®ã¿è¨˜è¿°ã™ã‚‹ï¼</td></tr>
<tr><td>license</td><td>ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ±ï¼</td></tr>
</tbody></table>
<h2 id="packagejsonã«è¿½è¨˜"><a class="header" href="#packagejsonã«è¿½è¨˜"><code>package.json</code>ã«è¿½è¨˜</a></h2>
<p>ä¸‹è¨˜ã®å†…å®¹ã‚’è¿½è¨˜ã™ã‚‹ï¼</p>
<pre><code class="language-json">&quot;type&quot;: &quot;module&quot;,
</code></pre>
<p>è¿½è¨˜å¾Œã¯ä»¥ä¸‹ã®ã‚ˆã†ãªçŠ¶æ…‹ï¼</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;express-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;type&quot;: &quot;module&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}

</code></pre>
<blockquote>
<p><strong>ğŸ’¡ Key Point</strong></p>
<p><code>package.json</code>ã«<code>&quot;type&quot;: &quot;module&quot;</code>ã‚’è¿½è¨˜ã™ã‚‹ã“ã¨ã§<code>import</code>å½¢å¼ã§åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ã“ã‚€ã“ã¨ãŒã§ãã‚‹ï¼
ã“ã®è¿½è¨˜ã‚’è¡Œã‚ãªã„å ´åˆï¼Œå¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€éš›ã«ã¯<code>require()</code>é–¢æ•°ã‚’ç”¨ã„ã‚‹ï¼
å‰å›ã®Reactãªã©ã§ã¯<code>import</code>ãŒåŸºæœ¬ã¨ãªã£ã¦ãŠã‚Šï¼Œã“ã¡ã‚‰ã«æƒãˆã¦ãŠã„ãŸã»ã†ãŒãƒ¡ãƒªãƒƒãƒˆãŒå¤§ããã‚ªã‚¹ã‚¹ãƒ¡ã§ã‚ã‚‹ï¼</p>
</blockquote>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="expressã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«"><a class="header" href="#expressã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«">Expressã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</a></h1>
<p>ä»Šå›ã¯ Express ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ï¼Œä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§</p>
<pre><code class="language-bash">$ npm i express
</code></pre>
<p>å®Ÿè¡Œçµæœ</p>
<pre><code class="language-bash">+ express@4.17.1
added 50 packages from 37 contributors and audited 50 packages in 1.687s
found 0 vulnerabilities

</code></pre>
<p>å®Œäº†ã—ãŸã‚‰ï¼Œå†åº¦<code>package.json</code>ã‚’é–‹ãï¼Œä»¥ä¸‹ã®å†…å®¹ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ï¼</p>
<pre><code class="language-json">&quot;dependencies&quot;: {
  &quot;express&quot;: &quot;^4.17.1&quot;
}

</code></pre>
<table><thead><tr><th>é …ç›®</th><th>æ„å‘³åˆã„</th></tr></thead><tbody>
<tr><td>dependencies</td><td>ã“ã®ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãŒä¾å­˜ã™ã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä¸€è¦§ï¼</td></tr>
</tbody></table>
<p><code>dependencies</code>ã®ä¸­ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã‚‹ä»•çµ„ã¿ï¼ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã¯ã„ã‚ã„ã‚ãªæ©Ÿèƒ½ã‚’ã¾ã¨ã‚ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚‚ã®ã§ã‚ã‚Šï¼Œæ§˜ã€…ãªã‚‚ã®ãŒå…¬é–‹ã•ã‚Œã¦ã„ã‚‹ï¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã»ã¼åŒç¾©ï¼</p>
<p>ã¾ãŸï¼Œã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¯åŒæ™‚ã«ä½œæˆã•ã‚Œã‚‹<code>node_modules</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«ä¿å­˜ã•ã‚Œã‚‹ï¼ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å°‚ç”¨ãªã®ã§ï¼Œè‡ªåˆ†ã§è§¦ã‚‹ã“ã¨ã¯æ®†ã©ç„¡ã„ï¼</p>
<p><code>package-lock.json</code>ã«ã¯å®Ÿéš›ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒè¨˜è¼‰ã•ã‚Œã‚‹ï¼åŸºæœ¬çš„ã«è§¦ã‚‰ãªã„ï¼</p>
<p><code>package.json</code>ã«ã¯ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã™ã¹ã¦è¨˜è¼‰ã•ã‚Œã‚‹ï¼ã‚³ãƒãƒ³ãƒ‰<code>npm install</code>ã‚’å®Ÿè¡Œã™ã‚‹ã¨ï¼Œã“ã“ã«è¨˜è¼‰ã•ã‚ŒãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒã™ã¹ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ï¼</p>
<p>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã©ã‚’ç¢ºèªã§ãã‚‹ãŸã‚ï¼Œä»–ã®äººãŒæ›¸ã„ãŸã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ãã‚‚ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã“ã¨ã‚’ã‚ªã‚¹ã‚¹ãƒ¡ï¼</p>
<h2 id="gitignoreãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ"><a class="header" href="#gitignoreãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ"><code>.gitignore</code>ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ</a></h2>
<p>ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ Git ã§ç®¡ç†ã™ã‚‹ã“ã¨ã¯å‘¨çŸ¥ã®ã“ã¨ã§ã‚ã‚‹ãŒï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†…ã«ã¯ Git ã§ç®¡ç†ã—ãŸããªã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚‚å­˜åœ¨ã™ã‚‹ï¼</p>
<p>ä¾‹ãˆã°ï¼Œä¸Šè¨˜ã§ä½œæˆã•ã‚ŒãŸ<code>node_modules</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã ã‘ã§ãªãï¼Œã€Œãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¿…è¦ã¨ã—ã¦ã„ã‚‹åˆ¥ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã€ã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ï¼ãã®ãŸã‚ï¼Œã“ã‚Œã‚‰ã™ã¹ã¦ã‚’ Git ã§ç®¡ç†ã™ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«æ•°ãŒè†¨å¤§ã«ãªã£ã¦ã—ã¾ã†ï¼</p>
<p>ãã®ãŸã‚ï¼Œ<code>node_modules</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆã¨ãã®ä»– Git ç®¡ç†ã—ãŸããªã„ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã‚’<code>.gitignore</code>ã¨å‘¼ã°ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒªã‚¹ãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹ã“ã¨ã§ Git ã®ç®¡ç†å¤–ã«æªãã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ã‚¨ãƒ‡ã‚£ã‚¿ã§<code>.gitignore</code>ã‚’ä½œæˆã™ã‚‹ï¼å¿…ãšãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã«ä½œæˆã™ã‚‹ã“ã¨ï¼</p>
<p>ä½œæˆã—ãŸã‚‰ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã—ã‚ˆã†ï¼<code>.gitignore</code>ã‹ã‚‰è¦‹ãŸç›¸å¯¾ãƒ‘ã‚¹ã§ Git ç®¡ç†å¤–ã«ã—ãŸã„ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦ã„ã‚‹ï¼</p>
<pre><code class="language-txt">/node_modules
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="apiå®Ÿè£…1ãŠã¿ãã˜åˆç´šç·¨"><a class="header" href="#apiå®Ÿè£…1ãŠã¿ãã˜åˆç´šç·¨">APIå®Ÿè£…1ï¼ˆãŠã¿ãã˜åˆç´šç·¨ï¼‰</a></h1>
<h2 id="å®Ÿè¡Œç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ"><a class="header" href="#å®Ÿè¡Œç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ">å®Ÿè¡Œç”¨ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ</a></h2>
<p>å®Ÿè¡Œã™ã‚‹ãŸã‚ã®<code>app.js</code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼ã‚¨ãƒ‡ã‚£ã‚¿ã‹ã‚‰ä½œæˆã™ã‚Œã° OKï¼</p>
<p>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ãŸã‚‰ä¸‹è¨˜ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<pre><code class="language-js">// app.js

import express from &quot;express&quot;;

const app = express();
const port = 3001;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.send(&quot;Hello Node.js!&quot;);
});

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`);
});

</code></pre>
<p>ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯<code>app.js</code>ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨ï¼Œ<code>http://localhost:3001</code>ã§ã‚µãƒ¼ãƒãŒç«‹ã¡ä¸ŠãŒã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã‚‹ï¼</p>
<p>ã¾ãŸï¼Œ<code>http://localhost:3001/</code>ã«<code>GET</code>ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæ¥ã‚‹ã¨ï¼Œ<code>Hello Node.js!</code>ã¨ã„ã†ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’è¿”ã™ã‚ˆã†è¨˜è¿°ã—ã¦ã„ã‚‹ï¼</p>
<h2 id="å‹•ä½œç¢ºèª"><a class="header" href="#å‹•ä½œç¢ºèª">å‹•ä½œç¢ºèª</a></h2>
<p>ä¸Šè¨˜ã‚’è¨˜è¿°ã—ãŸã‚‰ï¼Œã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ï¼Œã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ï¼å®Ÿè¡Œã™ã‚‹éš›ã«ã¯ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¦ãŠãã“ã¨ï¼</p>
<pre><code class="language-bash">$ node app.js
</code></pre>
<p>å®Ÿè¡Œçµæœï¼ä¸‹è¨˜ã®ã‚ˆã†ã«ã‚µãƒ¼ãƒãŒç«‹ã¡ä¸ŠãŒã‚Œã°æˆåŠŸï¼</p>
<pre><code class="language-bash">Example app listening at http://localhost:3001
</code></pre>
<p>ç«‹ã¡ä¸ŠãŒã£ãŸã‚‰ï¼Œåˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ï¼Œãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒé©åˆ‡ã«å‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèªã™ã‚‹ï¼</p>
<p>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã£ã¦ãã‚Œã°æˆåŠŸï¼</p>
<pre><code class="language-bash">$ curl localhost:3001
Hello Node.js!
</code></pre>
<p><code>curl</code>ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰ http ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹ã‚³ãƒãƒ³ãƒ‰ï¼ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ãªã„å ´åˆã¯ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãï¼</p>
<p>ã‚µãƒ¼ãƒã‚’çµ‚äº†ã™ã‚‹å ´åˆã¯<code>ctrl + c</code>ã§çµ‚äº†ã§ãã‚‹ï¼</p>
<h2 id="uri-ã®è¿½åŠ "><a class="header" href="#uri-ã®è¿½åŠ ">URI ã®è¿½åŠ </a></h2>
<p><code>/</code>ä»¥å¤–ã«ã‚‚ URI ã¨ä½œæˆã—ã¦ã¿ã‚‹ï¼</p>
<p><code>app.js</code>ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹ï¼<code>/omikuji</code>ï¼Œ<code>/janken</code>ã® 2 ã¤ã® URI ã‚’è¿½åŠ ã—ï¼Œå„ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ JSON å½¢å¼ã§è¿”ã™ã‚ˆã†å¤‰æ›´ã—ã¦ã„ã‚‹ï¼</p>
<pre><code class="language-js">// app.js

import express from &quot;express&quot;;

const app = express();
const port = 3001;

// ç·¨é›†
app.get(&quot;/&quot;, (req, res) =&gt; {
  res.json({
    uri: &quot;/&quot;,
    message: &quot;Hello Node.js!&quot;,
  });
});

// è¿½åŠ 
app.get(&quot;/omikuji&quot;, (req, res) =&gt; {
  res.json({
    uri: &quot;/omikuji&quot;,
    message: &quot;This is Omikuji URI!&quot;,
  });
});

// è¿½åŠ 
app.get(&quot;/janken&quot;, (req, res) =&gt; {
  res.json({
    uri: &quot;/janken&quot;,
    message: &quot;This is Janken URI!&quot;,
  });
});

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`);
});

</code></pre>
<h2 id="å‹•ä½œç¢ºèª-1"><a class="header" href="#å‹•ä½œç¢ºèª-1">å‹•ä½œç¢ºèª</a></h2>
<p>è¨˜è¿°ã—ãŸã‚‰ï¼Œå†åº¦ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã‚‹ï¼</p>
<pre><code class="language-bash">$ node app.js
</code></pre>
<p>åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰ï¼Œ<code>curl</code>ã‚³ãƒãƒ³ãƒ‰ã§å‹•ä½œã‚’ç¢ºèªã™ã‚‹ï¼</p>
<pre><code class="language-bash">$ curl localhost:3001/
{&quot;uri&quot;:&quot;/&quot;,&quot;message&quot;:&quot;Hello Node.js!&quot;}

$ curl localhost:3001/omikuji
{&quot;uri&quot;:&quot;/omikuji&quot;,&quot;message&quot;:&quot;This is Omikuji URI!&quot;}

$ curl localhost:3001/janken
{&quot;uri&quot;:&quot;/janken&quot;,&quot;message&quot;:&quot;This is Janken URI!&quot;}

</code></pre>
<p>ç°¡å˜ã§ã‚ã‚‹ãŒã“ã‚Œã ã‘ã§ API ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒã§ããŸï¼</p>
<h2 id="æ¼”ç¿’ãŠã¿ãã˜å‡¦ç†ã®è¿½åŠ "><a class="header" href="#æ¼”ç¿’ãŠã¿ãã˜å‡¦ç†ã®è¿½åŠ ">ã€æ¼”ç¿’ã€‘ãŠã¿ãã˜å‡¦ç†ã®è¿½åŠ </a></h2>
<p>å®Ÿéš›ã«ãŠã¿ãã˜ã®å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã¿ã‚ˆã†ï¼</p>
<p><code>app.js</code>ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã«ãŠã¿ãã˜ã®å‡¦ç†ã‚’æ›¸ã„ã¦å‹•ä½œã‚’ç¢ºèªã—ã‚ˆã†ï¼ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ï¼Œä»¥ä¸‹ã®ã‚ˆã†ãªçµæœã«ãªã‚‹ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹ï¼ä½•å›ã‹å®Ÿè¡Œã—ã¦ç•°ãªã‚‹çµæœãŒè¿”ã£ã¦ãã‚Œã° OKï¼</p>
<pre><code class="language-bash">$ curl localhost:3001/omikuji
{&quot;uri&quot;:&quot;/omikuji&quot;,&quot;message&quot;:&quot;å¤§å‰&quot;}

$ curl localhost:3001/omikuji
{&quot;uri&quot;:&quot;/omikuji&quot;,&quot;message&quot;:&quot;å‡¶&quot;}

$ curl localhost:3001/omikuji
{&quot;uri&quot;:&quot;/omikuji&quot;,&quot;message&quot;:&quot;ä¸­å‰&quot;}

</code></pre>
<p>å®Ÿè£…ä¾‹ï¼š</p>
<pre><code class="language-js">// app.js

// çœç•¥

app.get(&quot;/omikuji&quot;, (req, res) =&gt; {
  const omikuji = [&quot;å¤§å‰&quot;, &quot;ä¸­å‰&quot;, &quot;å°å‰&quot;, &quot;å‡¶&quot;, &quot;å¤§å‡¶&quot;];
  const min = 0;
  const max = omikuji.length - 1;
  const index = Math.floor(Math.random() * (max - min + 1)) + min;
  res.json({
    uri: &quot;/omikuji&quot;,
    message: omikuji[index],
  });
});

// çœç•¥

</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ "><a class="header" href="#ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ ">ã‚³ãƒãƒ³ãƒ‰ã®è¿½åŠ </a></h1>
<p>ã“ã“ã¾ã§ï¼Œä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒã‚’å®Ÿè¡Œã—ã¦ã„ãŸï¼</p>
<pre><code class="language-bash">$ node app.js
</code></pre>
<p>ã“ã‚Œã¨ã¯åˆ¥ã«ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦è‡ªåˆ†ã§ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ã‚³ãƒãƒ³ãƒ‰ã‚’è¿½åŠ ã™ã‚‹å ´åˆã¯<code>package.json</code>ã«è¨˜è¿°ã™ã‚‹ï¼ä¸‹è¨˜ã®å†…å®¹ã‚’è¿½è¨˜ã—ã¦ã¿ã‚ˆã†ï¼</p>
<pre><code class="language-json">{
  &quot;name&quot;: &quot;express-project&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;type&quot;: &quot;module&quot;,
  &quot;description&quot;: &quot;&quot;,
  &quot;main&quot;: &quot;index.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;,
    &quot;__comment&quot;: &quot;â†“ã“ã“ã‚’è¿½è¨˜ï¼ˆã“ã®è¡Œã¯æ›¸ã‹ãªãã¦OKï¼‰&quot;,
    &quot;start&quot;: &quot;node app.js&quot;
  },
  &quot;author&quot;: &quot;&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;dependencies&quot;: {
    &quot;express&quot;: &quot;^4.17.1&quot;
  }
}
</code></pre>
<p>ã“ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹ã¨ï¼Œ<code>npm start</code>ã¨ã„ã†ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨<code>node app.js</code>ãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼</p>
<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒè¤‡é›‘ã«ãªã‚‹ã¨ï¼Œå ´é¢ã«å¿œã˜ã¦æ§˜ã€…ãªã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ãŸã„å ´åˆãŒã‚ã‚‹ï¼ãã®ã‚ˆã†ãªã¨ãã«ï¼Œçµ±ä¸€ã•ã‚ŒãŸã‚³ãƒãƒ³ãƒ‰ã‚’æº–å‚™ã—ã¦ãŠãã“ã¨ã§é–‹ç™ºã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ï¼</p>
<p>ä¸‹è¨˜ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚µãƒ¼ãƒãŒç«‹ã¡ä¸ŠãŒã‚‹ï¼ã“ã‚Œã¾ã§ã¨åŒã˜å‹•ä½œã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã‚ˆã†ï¼</p>
<pre><code class="language-bash">$ npm start
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="api-å®Ÿè£…-2ãŠã¿ãã˜ä¸­ç´šç·¨"><a class="header" href="#api-å®Ÿè£…-2ãŠã¿ãã˜ä¸­ç´šç·¨">API å®Ÿè£… 2ï¼ˆãŠã¿ãã˜ä¸­ç´šç·¨ï¼‰</a></h1>
<p>ç°¡å˜ãª API ã‚’å®Ÿè£…ã™ã‚‹ã ã‘ãªã‚‰ã°ï¼Œã“ã“ã¾ã§ã®å†…å®¹ã§ååˆ†ã§ã‚ã‚‹ï¼ãŠã¿ãã˜ã®å‡¦ç†éƒ¨åˆ†ã«é©å½“ãªè¨˜è¿°ã‚’ã™ã‚Œã°å•é¡Œãªã„ã§ã‚ã‚ã†ï¼</p>
<p>ã—ã‹ã—ï¼Œã‚³ãƒ¼ãƒ‰ã®è¨˜è¿°é‡ãŒå¢—ãˆã¦ãã‚‹ã¨ï¼Œè¦‹é€šã—ãŒæ‚ªããªã£ã¦ã—ã¾ã„ï¼Œä¿å®ˆç®¡ç†ã«ã‚‚æ”¯éšœã‚’ããŸã™ï¼</p>
<p>ãã“ã§ï¼Œå‡¦ç†ä¸­ã®å½¹å‰²æ¯ã«åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨˜è¿°ã§ãã‚‹ã‚ˆã†ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã‚’å¤‰æ›´ã™ã‚‹ï¼ˆè²¬å‹™ã®åˆ†é›¢ï¼Œãªã©ã¨å‘¼ã°ã‚Œã‚‹ï¼‰ï¼</p>
<h2 id="ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨å½¹å‰²"><a class="header" href="#ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨å½¹å‰²">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã¨å½¹å‰²</a></h2>
<p>å¤§ãã<code>routes</code>ï¼Œ<code>controllers</code>ï¼Œ<code>services</code>ã® 3 ã¤ã«åˆ†é›¢ã™ã‚‹ï¼DB ãªã©ã¨çµ„ã¿åˆã‚ã›ã¦ãƒ‡ãƒ¼ã‚¿ã‚’æ‰±ã†å ´åˆã¯ä»–ã«<code>model</code>ã‚’ç”¨æ„ã™ã‚‹ãŒä»Šå›ã¯çœç•¥ã™ã‚‹ï¼</p>
<p>å„è¦ç´ ã®å½¹å‰²ã¯ä»¥ä¸‹ã®é€šã‚Šï¼</p>
<table><thead><tr><th>é …ç›®</th><th>æ„å‘³åˆã„</th></tr></thead><tbody>
<tr><td>routes</td><td>URI ã¨å®Ÿè¡Œã™ã‚‹å‡¦ç†ã®å¯¾å¿œï¼</td></tr>
<tr><td>controllers</td><td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ¤œè¨¼ï¼Œãƒ¬ã‚¹ãƒãƒ³ã‚¹é€ä¿¡ï¼</td></tr>
<tr><td>services</td><td>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹å‡¦ç†ã®ãƒ¡ã‚¤ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¨˜è¿°ï¼</td></tr>
<tr><td>repositories</td><td>DB é–¢é€£ã®å‡¦ç†ã‚’è¨˜è¿°ï¼ä»Šå›ã¯å‡ºç•ªãªã—ï¼</td></tr>
</tbody></table>
<p>ã“ã®ã‚ˆã†ãªå½¹å‰²åˆ†æ‹…ã¨ã™ã‚‹ãŸã‚ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼</p>
<pre><code class="language-bash">.
â”œâ”€â”€ app.js
â”œâ”€â”€ controllers
â”‚   â””â”€â”€ omikuji.controller.js
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ routes
â”‚   â””â”€â”€ omikuji.route.js
â””â”€â”€ services
    â””â”€â”€ omikuji.service.js

</code></pre>
<h2 id="å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…"><a class="header" href="#å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…">å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…</a></h2>
<p><code>app.js</code>ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹ï¼</p>
<p>ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ routes ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»»ã›ï¼ŒæŒ‡å®šã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†è¨˜è¿°ï¼</p>
<pre><code class="language-js">// app.js

import express from &quot;express&quot;;
// ãŠã¿ãã˜ã®routerã‚’èª­ã¿è¾¼ã‚€
import { omikujiRouter } from &quot;./routes/omikuji.route.js&quot;;

const app = express();
const port = 3001;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.json({
    uri: &quot;/&quot;,
    message: &quot;Hello Node.js!&quot;,
  });
});

// ãŠã¿ãã˜ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’å¤‰æ›´
app.use(&quot;/omikuji&quot;, (req, res) =&gt; omikujiRouter(req, res));

app.get(&quot;/janken&quot;, (req, res) =&gt; {
  res.json({ message: &quot;This is Janken URI!&quot; });
});

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`);
});
</code></pre>
<h2 id="ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…"><a class="header" href="#ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…</a></h2>
<p><code>routes/omikuji.route.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>URI ã¨å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<pre><code class="language-js">// routes/omikuji.route.js

import express from &quot;express&quot;;
import { getResult } from &quot;../controllers/omikuji.controller.js&quot;;

export const omikujiRouter = express.Router();

omikujiRouter.get(&quot;/&quot;, (req, res) =&gt; getResult(req, res));
</code></pre>
<h2 id="ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…"><a class="header" href="#ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…</a></h2>
<p><code>controllers/omikuji.controller.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>ã‚µãƒ¼ãƒ“ã‚¹ã‚’å‘¼ã³å‡ºã—ã¦å®Ÿè¡Œã—ãŸã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒ‡å®šã—ï¼Œçµæœã«ã‚ˆã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æŒ‡å®šã™ã‚‹ï¼</p>
<pre><code class="language-js">// controllers/omikuji.controller.js

import { getOmikuji } from &quot;../services/omikuji.service.js&quot;;

export const getResult = async (req, res, next) =&gt; {
  try {
    const result = await getOmikuji({});
    return res.status(200).json({
      status: 200,
      result: result,
      message: &quot;Successfully get Omikuji!&quot;,
    });
  } catch (e) {
    return res.status(400).json({ status: 400, message: e.message });
  }
};
</code></pre>
<h2 id="ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…"><a class="header" href="#ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…">ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…</a></h2>
<p><code>services/omikuji.service.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯å®Ÿè¡Œã—ãŸã„ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ãï¼ã“ã“ã§ãŠã¿ãã˜ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ï¼</p>
<pre><code class="language-js">// services/omikuji.service.js

export const getOmikuji = async (query) =&gt; {
  try {
    const omikuji = [&quot;å¤§å‰&quot;, &quot;ä¸­å‰&quot;, &quot;å°å‰&quot;, &quot;å‡¶&quot;, &quot;å¤§å‡¶&quot;];
    const min = 0;
    const max = omikuji.length - 1;
    const index = Math.floor(Math.random() * (max - min + 1)) + min;
    return { result: omikuji[index] };
  } catch (e) {
    throw Error(&quot;Error while getting Omikuji.&quot;);
  }
};
</code></pre>
<p>å‡¦ç†ã®é †åºã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ï¼</p>
<pre><code class="language-txt">ãƒªã‚¯ã‚¨ã‚¹ãƒˆ               ãƒ¬ã‚¹ãƒãƒ³ã‚¹
   â†“                       â†‘
routes/omikuji.route.js    |
   â†“                       |
controllers/omikuji.controller.js
   â†“           â†‘
services/omikuji.service.js

</code></pre>
<h2 id="å‹•ä½œç¢ºèª-2"><a class="header" href="#å‹•ä½œç¢ºèª-2">å‹•ä½œç¢ºèª</a></h2>
<p>ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ï¼Œä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ï¼</p>
<pre><code class="language-bash">$ curl localhost:3001/omikuji
</code></pre>
<p>ãŠã¿ãã˜ã®çµæœãŒè¿”ã£ã¦ãã‚Œã°æˆåŠŸï¼æ•°å›å®Ÿè¡Œã—ï¼Œç•°ãªã‚‹çµæœãŒè¿”ã£ã¦ãã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãŠã“ã†ï¼</p>
<pre><code class="language-bash">$ curl localhost:3001/omikuji
{&quot;status&quot;:200,&quot;result&quot;:{&quot;result&quot;:&quot;å‡¶&quot;},&quot;message&quot;:&quot;Successfully get Omikuji!&quot;}

$ curl localhost:3001/omikuji
{&quot;status&quot;:200,&quot;result&quot;:{&quot;result&quot;:&quot;å¤§å‡¶&quot;},&quot;message&quot;:&quot;Successfully get Omikuji!&quot;}

$ curl localhost:3001/omikuji
{&quot;status&quot;:200,&quot;result&quot;:{&quot;result&quot;:&quot;ä¸­å‰&quot;},&quot;message&quot;:&quot;Successfully get Omikuji!&quot;}

$ curl localhost:3001/omikuji
{&quot;status&quot;:200,&quot;result&quot;:{&quot;result&quot;:&quot;å¤§å‰&quot;},&quot;message&quot;:&quot;Succesfully get Omikuji!&quot;}

</code></pre>
<p>ãƒ¦ãƒ¼ã‚¶ã«è¿”ã™ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¤‰æ›´ã—ãŸã„å ´åˆã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã‚’ï¼Œå‡¦ç†ã®å†…å®¹ã‚’æ›´æ–°ã—ãŸã„å ´åˆã¯ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ›¸ãæ›ãˆã‚Œã°è‰¯ã„ï¼ã“ã®ã‚ˆã†ã«ï¼Œå„è²¬å‹™ã‚’åˆ¥ã®å ´æ‰€ã«ç½®ãã“ã¨ã§ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã—ã‚„ã™ã„ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã«ãªã‚‹ï¼</p>
<p>ã“ã‚Œã§ãŠã¿ãã˜ã®å®Ÿè£…ã¯å®Œäº†ã§ã‚ã‚‹ï¼</p>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="api-å®Ÿè£…-3ã˜ã‚ƒã‚“ã‘ã‚“"><a class="header" href="#api-å®Ÿè£…-3ã˜ã‚ƒã‚“ã‘ã‚“">API å®Ÿè£… 3ï¼ˆã˜ã‚ƒã‚“ã‘ã‚“ï¼‰</a></h1>
<p>ãŠã¿ãã˜ã®å®Ÿè£…ãŒã§ããŸã®ã§ï¼Œãƒ¦ãƒ¼ã‚¶å´ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡ã—ã¦ã˜ã‚ƒã‚“ã‘ã‚“ã®çµæœã‚’è¿”ã™ API ã‚’å®Ÿè£…ã—ã¦ã¿ã‚‹ï¼</p>
<h2 id="ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“åƒ"><a class="header" href="#ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“åƒ">ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å…¨ä½“åƒ</a></h2>
<p>ãƒ¦ãƒ¼ã‚¶ã¯ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã«<code>post</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§è‡ªåˆ†ã®æ‰‹ã‚’é€ä¿¡ã™ã‚‹ï¼ã‚µãƒ¼ãƒå´ã¯ãƒ¦ãƒ¼ã‚¶ã‹ã‚‰é€ä¿¡ã•ã‚ŒãŸæ‰‹ã«å¯¾ã—ã¦ãƒ©ãƒ³ãƒ€ãƒ ã§æ‰‹ã‚’å‡ºã—ï¼Œã€Œãƒ¦ãƒ¼ã‚¶ã®æ‰‹ã€ã€Œã‚µãƒ¼ãƒã®æ‰‹ã€ã€Œå‹æ•—ã€ã‚’ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã§è¿”å´ã™ã‚‹ï¼</p>
<p>ä¸‹å›³ã‚’å‚è€ƒã«ï¼Œå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã™ã‚‹ï¼</p>
<pre><code class="language-bash">.
â”œâ”€â”€ app.js
â”œâ”€â”€ controllers
â”‚   â”œâ”€â”€ janken.controller.js
â”‚   â””â”€â”€ omikuji.controller.js
â”œâ”€â”€ node_modules
â”œâ”€â”€ package.json
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ routes
â”‚   â”œâ”€â”€ janken.route.js
â”‚   â””â”€â”€ omikuji.route.js
â””â”€â”€ services
    â”œâ”€â”€ janken.service.js
    â””â”€â”€ omikuji.service.js

</code></pre>
<h2 id="å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…"><a class="header" href="#å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…">å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿè£…</a></h2>
<p><code>app.js</code>ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç·¨é›†ã™ã‚‹ï¼</p>
<p>ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’èª­ã¿è¾¼ã‚€ï¼ã¾ãŸï¼ŒPOST ãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ãŸã‚ã«ã¯<code>express.urlencoded({ extended: true })</code>ã¨ JSON ãƒ‡ãƒ¼ã‚¿ã®æ‰±ã„ã§<code>express.json()</code>ãŒå¿…è¦ã«ãªã‚‹ãŸã‚èª­ã¿è¾¼ã‚“ã§ã„ã‚‹ï¼</p>
<pre><code class="language-js">// app.js

import express from &quot;express&quot;;
import { omikujiRouter } from &quot;./routes/omikuji.route.js&quot;;
// ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’èª­ã¿è¾¼ã‚€
import { jankenRouter } from &quot;./routes/janken.route.js&quot;;

const app = express();
// â†“POSTã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚‹ãŸã‚ã«å¿…è¦
app.use(express.urlencoded({ extended: true }));
app.use(express.json());

const port = 3001;

app.get(&quot;/&quot;, (req, res) =&gt; {
  res.json({
    uri: &quot;/&quot;,
    message: &quot;Hello Node.js!&quot;,
  });
});

app.use(&quot;/omikuji&quot;, (req, res) =&gt; omikujiRouter(req, res));
// ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’è¿½åŠ 
app.use(&quot;/janken&quot;, (req, res) =&gt; jankenRouter(req, res));

app.listen(port, () =&gt; {
  console.log(`Example app listening at http://localhost:${port}`);
});
</code></pre>
<h2 id="ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…-1"><a class="header" href="#ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…-1">ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®å®Ÿè£…</a></h2>
<p><code>routes/janken.route.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>URI ã¨å¯¾å¿œã™ã‚‹ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ï¼ä»Šå›ã¯ POST ã§å—ã‘å–ã‚‹ç‚¹ã¨é€ä¿¡ã•ã‚Œã¦ããŸãƒ‡ãƒ¼ã‚¿ãŒ<code>req</code>ã«å…¥ã£ã¦ã„ã‚‹ç‚¹ã«æ³¨æ„ï¼</p>
<pre><code class="language-js">// routes/janken.route.js

import express from &quot;express&quot;;
import { getResult } from &quot;../controllers/janken.controller.js&quot;;

export const jankenRouter = express.Router();

jankenRouter.post(&quot;/&quot;, (req, res) =&gt; getResult(req, res));
</code></pre>
<h2 id="ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…-1"><a class="header" href="#ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…-1">ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ã®å®Ÿè£…</a></h2>
<p><code>controllers/janken.controller.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>ãŠã¿ãã˜ã®å ´åˆã¨ã»ã¼åŒã˜ï¼</p>
<pre><code class="language-js">// controllers/janken.controller.js

import { getJanken } from &quot;../services/janken.service.js&quot;;

export const getResult = async (req, res, next) =&gt; {
  try {
    const result = await getJanken(req.body);
    return res.status(200).json({
      status: 200,
      result: result,
      message: &quot;Succesfully get Janken!&quot;,
    });
  } catch (e) {
    return res.status(400).json({ status: 400, message: e.message });
  }
};
</code></pre>
<h2 id="ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…-1"><a class="header" href="#ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…-1">ã‚µãƒ¼ãƒ“ã‚¹ã®å®Ÿè£…</a></h2>
<p><code>services/janken.service.js</code>ã«ä»¥ä¸‹ã®å†…å®¹ã‚’è¨˜è¿°ã™ã‚‹ï¼</p>
<p>ã¨ã‚Šã‚ãˆãšæ¯å›åŒã˜çµæœã‚’è¿”ã—ã¦ã„ã‚‹ï¼</p>
<pre><code class="language-js">// services/janken.service.js

export const getJanken = async (query) =&gt; {
  try {
    return { yourHand: query.myhand, comHand: &quot;ã‚°ãƒ¼&quot;, result: &quot;ãƒ†ã‚¹ãƒˆä¸­&quot; };
  } catch (e) {
    throw Error(&quot;Error while getting Janken&quot;);
  }
};
</code></pre>
<h2 id="å‹•ä½œç¢ºèª-3"><a class="header" href="#å‹•ä½œç¢ºèª-3">å‹•ä½œç¢ºèª</a></h2>
<p>ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã¦ï¼Œ<code>curl</code>ã‚³ãƒãƒ³ãƒ‰ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹ï¼POST ã™ã‚‹å ´åˆã¯ä¸‹è¨˜ã®æ›¸å¼ã§å®Ÿè¡Œã™ã‚‹ï¼</p>
<p>çµæœãŒè¿”ã£ã¦ãã‚Œã°æˆåŠŸï¼</p>
<pre><code class="language-bash">$ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;myhand&quot;:&quot;ãƒ‘ãƒ¼&quot;}' localhost:3001/janken

{&quot;status&quot;:200,&quot;result&quot;:{&quot;yourHand&quot;:&quot;ãƒ‘ãƒ¼&quot;,&quot;comHand&quot;:&quot;ã‚°ãƒ¼&quot;,&quot;result&quot;:&quot;ãƒ†ã‚¹ãƒˆä¸­&quot;},&quot;message&quot;:&quot;Successfully get Janken!&quot;}
</code></pre>
<p>ã‚µãƒ¼ãƒã«å¯¾ã—ã¦<code>{&quot;myhand&quot;:&quot;ãƒ‘ãƒ¼&quot;}</code>ã¨ã„ã† JSON å½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’ POST ãƒ¡ã‚½ãƒƒãƒ‰ã§é€ä¿¡ã—ã¦ã„ã‚‹ï¼</p>
<h2 id="æ¼”ç¿’ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…"><a class="header" href="#æ¼”ç¿’ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…">ã€æ¼”ç¿’ã€‘ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…</a></h2>
<p>ä¸Šè¨˜ã§è¨˜è¿°ã—ãŸ<code>services/janken.service.js</code>ã«ã˜ã‚ƒã‚“ã‘ã‚“ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¦ã¿ã‚ˆã†ï¼</p>
<p>ã‚µãƒ¼ãƒã‚’ç«‹ã¡ä¸Šã’ã¦ï¼Œä»¥ä¸‹ã®ã‚ˆã†ã«ã˜ã‚ƒã‚“ã‘ã‚“ãŒã§ãã‚Œã° OKï¼</p>
<pre><code class="language-js">$ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;myhand&quot;:&quot;ã‚°ãƒ¼&quot;}' localhost:3001/janken

{&quot;status&quot;:200,&quot;result&quot;:{&quot;yourHand&quot;:&quot;ã‚°ãƒ¼&quot;,&quot;comHand&quot;:&quot;ãƒãƒ§ã‚­&quot;,&quot;result&quot;:&quot;Win&quot;},&quot;message&quot;:&quot;Succesfully get Janken!&quot;}

$ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;myhand&quot;:&quot;ãƒãƒ§ã‚­&quot;}' localhost:3001/janken

{&quot;status&quot;:200,&quot;result&quot;:{&quot;yourHand&quot;:&quot;ãƒãƒ§ã‚­&quot;,&quot;comHand&quot;:&quot;ãƒ‘ãƒ¼&quot;,&quot;result&quot;:&quot;Win&quot;},&quot;message&quot;:&quot;Successfully get Janken!&quot;}

$ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;myhand&quot;:&quot;ãƒ‘ãƒ¼&quot;}' localhost:3001/janken

{&quot;status&quot;:200,&quot;result&quot;:{&quot;yourHand&quot;:&quot;ãƒ‘ãƒ¼&quot;,&quot;comHand&quot;:&quot;ãƒãƒ§ã‚­&quot;,&quot;result&quot;:&quot;Lose&quot;},&quot;message&quot;:&quot;Successfully get Janken!&quot;}

</code></pre>
<p>ã˜ã‚ƒã‚“ã‘ã‚“ãŒã§ããŸã‚‰ï¼Œã‚°ãƒ¼ãƒãƒ§ã‚­ãƒ‘ãƒ¼ä»¥å¤–ã®æ‰‹ã‚’é€ä¿¡ã™ã‚‹ã¨ NG ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¿”ã™å®Ÿè£…ã«ã‚‚ãƒãƒ£ãƒ¬ãƒ³ã‚¸ï¼</p>
<pre><code class="language-bash">$ curl -X POST -H &quot;Content-Type: application/json&quot; -d '{&quot;myhand&quot;:&quot;ç„¡æ•µã®ã‚¢ãƒ¬&quot;}' localhost:3001/janken

{&quot;status&quot;:200,&quot;result&quot;:{&quot;message&quot;:&quot;Invalid hand...&quot;},&quot;message&quot;:&quot;Successfully get Janken!&quot;}

</code></pre>
<p>å®Ÿè£…ä¾‹ï¼š</p>
<pre><code class="language-js">// services/janken.service.js

export const getJanken = async (query) =&gt; {
  try {
    const hand = [&quot;ã‚°ãƒ¼&quot;, &quot;ãƒãƒ§ã‚­&quot;, &quot;ãƒ‘ãƒ¼&quot;];
    const myIndex = hand.indexOf(query.myhand);
    if (myIndex === -1) return { message: &quot;Invalid hand...&quot; };
    const comIndex = Math.floor(Math.random() * 3);
    const resultSheet = [
      [&quot;Draw&quot;, &quot;Win&quot;, &quot;Lose&quot;],
      [&quot;Lose&quot;, &quot;Draw&quot;, &quot;Win&quot;],
      [&quot;Win&quot;, &quot;Lose&quot;, &quot;Draw&quot;],
    ];
    return {
      yourHand: query.myhand,
      comHand: hand[comIndex],
      result: resultSheet[myIndex][comIndex],
    };
  } catch (e) {
    throw Error(&quot;Error while getting Janken&quot;);
  }
};
</code></pre>
<div id="chapter_begin" style="break-before: page; page-break-before: always;"></div><h1 id="ã¾ã¨ã‚"><a class="header" href="#ã¾ã¨ã‚">ã¾ã¨ã‚</a></h1>
<p>ä»Šå›ã¯ Node.js ã‚’ç”¨ã„ã¦ API ã‚µãƒ¼ãƒã‚’å®Ÿè£…ã—ã¦ã¿ãŸï¼</p>
<p>ãŠã¿ãã˜ã‚„ã˜ã‚ƒã‚“ã‘ã‚“ã®å®Ÿè£…ã‚’é€šã˜ã¦ï¼Œå¿…è¦ãªå‡¦ç†ã«å«ã¾ã‚Œã‚‹è²¬å‹™ã‚’åˆ†é›¢ã—ï¼Œåˆ¥ã€…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«å®Ÿè£…ã—ãŸï¼</p>
<p>Node.js ã¯ã‚·ãƒ³ãƒ—ãƒ«ãªæ§‹æˆã§æŸ”è»Ÿãª API ã‚’æ§‹ç¯‰ã§ãã‚‹é­…åŠ›çš„ãªæŠ€è¡“ã§ã‚ã‚‹ï¼èˆˆå‘³ã‚’æŒã£ãŸæ–¹ã¯ï¼Œã˜ã‚ƒã‚“ã‘ã‚“ã®å‹ç‡å¤‰æ›´ã‚„ DB é€£æºãªã©ã«ã‚‚æŒ‘æˆ¦ã—ã¦ã¿ã‚‹ã¨è‰¯ã„ã ã‚ã†ï¼</p>
<p>ä»Šå›ã¯ä»¥ä¸Šã§ã‚ã‚‹( `ï½¥Ï‰ï½¥)b</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
